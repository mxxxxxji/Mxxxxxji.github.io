---
layout: post
title: "[C++] 인라인 함수"
description: "Demo post displaying the various ways of highlighting code in Markdown."
tags: [C++]
categories: [C++]
---

------------------------------------------------------------------------------------------------------------

## C++에서의 함수 호출 
함수가 호출되면 우선 스택에 함수로 전달할 매개변수와 함께 호충이 끝난 뒤 돌아갈 반환 주소값을 저장하게 된다.  
그리고 프로그램의 제어가 함수의 위치로 넘어와 함수 내에 선언된 지역변수도 스택에 저장된다.   
그때부터 함수의 모든 코드를 실행하게 되고, 실행이 전부 끝나면 반환값을 넘겨준다.  
그 후 프로그램의 제어는 스택에 저장된 돌아갈 반환 주소값으로 이동하며, 스택에 저장된 함수 호출 정보를 제거한다.  
이와 같은 일련의 함수 호출 과정이 함수마다 일어난다.  
<br/>
<br/>

## 인라인 함수(inline function)
위와 같이 C++에서 함수의 호출은 꽤 복잡한 과정을 거치므로, 약간의 시간이 걸리게 된다.  
이때 함수를 실행하는 시간이 오래 걸린다면, 함수를 호출하는데 걸리는 시간은 전혀 문제가 되지 않는다.  
하지만 함수의 실행 시간인 매우 짧다면, 함수 호출에 걸리는 시간도 부담이 될 수 있다.  
<br/>
C++에서는 이러한 경우에 사용할 수 있는 인라인 함수(inline function)라는 것을 제공한다.  
인라인 함수는 호풀될 때 일반적인 함수의 호출 과정을 거치지 않고, 함수의 모든 코드를 호출된 자리에 바로 삽입하는 방식의 함수이다.  
이 방식은 함수를 호풀하는 데 걸리는 시간은 절약되나, 함수 호출 과정으로 생기는 여러 이점을 포기하게된다.  
따라서 코드가 매우 적은 함수만을 인라인 함수로 선언하는 것이 좋다.
<br/>
<br/>

## 인라인 함수의 선언
다음 예제는 Sub()함수와 Print() 한수는 인라인 함수로 정의되어 호출된다.  
보통 인라인 함수는 크기가 작으므로, 함수의 원형이 나오는 자리에 함수의 본체까지 정의하는 경우가 많다.  

{% highlight cpp %}
#include <iostream>
using namespace std;

inline int Sub(int x, int y) { return x - y; }
inline void Print(int x) { cout << "계산 결과는 " << "x" << "입니다."; }

int main(void)
{
	int num1 = 5, num2 = 3;
	int result;

	result = Sub(num1, num2);
	Print(result);

	return 0;
}
{% endhighlight %}
다음은 실행결과이다.
    {% raw %} 
    계산 결과는 2입니다.
    {% endraw %} 

<br/>
<br/>
<br/>
**참고자료**<br/>
[코딩의 시작, TCP School](http://tcpschool.com/cpp/cpp_cppFunction_inlineFunction)
황준하, 제어문과 함수.pptx
